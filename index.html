<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Stock Simulation Game</title>
    <style>
      :root {
        color-scheme: light;
      }
      body {
        font-family: system-ui, sans-serif;
        max-width: 1080px;
        margin: 0 auto;
        padding: 24px;
        background: #fafafa;
        color: #222;
      }
      h1 {
        margin-bottom: 12px;
      }
      .card {
        border: 1px solid #ddd;
        border-radius: 12px;
        padding: 18px;
        margin-bottom: 16px;
        background: #fff;
        box-shadow: 0 2px 4px rgb(15 23 42 / 4%);
      }
      .row {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 12px;
      }
      label {
        display: flex;
        flex-direction: column;
        font-size: 14px;
        gap: 4px;
      }
      input {
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 8px 12px;
        font-size: 16px;
      }
      input[type="number"] {
        width: 140px;
        text-align: right;
      }
      button {
        border: none;
        border-radius: 8px;
        padding: 10px 18px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        background: #2563eb;
        color: white;
      }
      button:disabled {
        opacity: 0.5;
        cursor: wait;
      }
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th,
      td {
        border: 1px solid #eee;
        padding: 8px 12px;
        text-align: center;
      }
      th {
        background: #f1f5f9;
      }
      pre {
        margin: 0;
        font-size: 13px;
      }
      .danger {
        background: #fee2e2;
        color: #b91c1c;
      }
    </style>
    <script type="module" crossorigin src="/assets/index-BsIs7-N4.js"></script>
  </head>
  <body>
    <h1>Stock Simulation Game</h1>
    <p style="margin-top: 0; color: #475569;">
      다섯 라운드 동안 10개의 가상 종목을 운용하는 모의투자 게임입니다. 참가자는 각 라운드마다 주문을 제출하고, 관리자가 다음 날로 진행합니다.
    </p>

    <div class="card">
      <h3>참가자 접속</h3>
      <div class="row">
        <label>
          백엔드 URL
          <input id="backendUrl" value="http://localhost:8000" autocomplete="url" />
        </label>
        <label>
          사용자 ID
          <input id="userId" placeholder="예: USER001" autocomplete="username" />
        </label>
        <button id="btnLoad">접속하기</button>
      </div>
      <p id="loadHint" style="margin-top: 12px; font-size: 14px; color: #64748b;"></p>
    </div>

    <div id="status" class="card">사용자 정보를 불러오면 현황이 나타납니다.</div>

    <div id="trade" class="card" style="display: none;">
      <div class="row" style="justify-content: space-between; align-items: baseline;">
        <h3 style="margin: 0;">거래 입력</h3>
        <span id="lastUpdated" style="font-size: 13px; color: #64748b;"></span>
      </div>
      <p style="font-size: 14px; color: #475569;">
        금액 단위(₩)로 입력하세요. 매수는 양수, 매도는 음수입니다. 주문 제출 시 즉시 체결됩니다.
      </p>
      <div id="prices"></div>
      <div style="margin-top: 12px; display: flex; gap: 12px;">
        <button id="btnSubmit">주문 제출</button>
        <button id="btnReset" type="button" style="background: #475569;">입력 초기화</button>
      </div>
    </div>

    <div class="card">
      <h3>관리자</h3>
      <div class="row">
        <label>
          Admin Token
          <input id="adminToken" type="password" placeholder="서버 ADMIN_TOKEN" autocomplete="off" />
        </label>
        <button id="btnNext">다음 Day로 이동</button>
      </div>
      <p style="font-size: 14px; color: #b91c1c; margin-top: 12px;">
        관리자 기능은 게임 진행 전용입니다. 잘못 사용하면 참가자 자산이 즉시 변동됩니다.
      </p>
    </div>

  </body>
</html>